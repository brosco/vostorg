"use strict";(self["webpackChunkvostorg_vue"]=self["webpackChunkvostorg_vue"]||[]).push([[0],{7e3:(e,n,t)=>{t.r(n),t.d(n,{default:()=>q});var l=t(9835),a=t(499),o=t(9048),u=t(7575),i=t(9731),r=t(61),s=t(8882),m=t(6850),c=t(5190),d=t(8910),v=t(1403),f=function(e,n,t,l){function a(e){return e instanceof t?e:new t((function(n){n(e)}))}return new(t||(t=Promise))((function(t,o){function u(e){try{r(l.next(e))}catch(n){o(n)}}function i(e){try{r(l["throw"](e))}catch(n){o(n)}}function r(e){e.done?t(e.value):a(e.value).then(u,i)}r((l=l.apply(e,n||[])).next())}))};const g={class:"row q-col-gutter-md"},h={class:"col-12 col-sm-6"},p={class:"col-12 col-sm-6"},w=(0,l.aZ)({setup(e){const n=(0,a.qj)({}),t=(0,u.m)(),{requiredRule:w,maxRule:y,minRule:b}=(0,s.bA)(),{fetchMyPersonal:k,saveMyPersonal:U}=t,_=(0,l.Fl)((()=>t.personal)),q=(0,a.iH)(!1),S=(0,l.f3)("menu"),{config:Z}=(0,m.F)(),{user:{nameLengthMax:V,nameLengthMin:j}}=Z,x=(0,a.iH)(!1),M=(0,d.tv)(),W=({name:e,town:n})=>({name:e,town:n});(0,l.bv)((()=>f(this,void 0,void 0,(function*(){_.value?(Object.assign(n,W(_.value)),q.value=!0):(yield k(),_.value&&Object.assign(n,W(_.value)),q.value=!0)}))));const $=()=>f(this,void 0,void 0,(function*(){x.value=!0;const{name:e,town:t}=n,l={name:e,town:null===t||void 0===t?void 0:t.id};try{yield U(l),x.value=!1,yield M.push({name:"my-settings-personal"})}catch(a){x.value=!1}})),H=[e=>w(e),e=>y(e,V),e=>b(e,j)],R=(0,a.iH)(),F=(0,a.iH)(!1);return(e,t)=>{const u=(0,l.up)("q-input"),s=(0,l.up)("q-form");return(0,l.wg)(),(0,l.j4)(s,{ref_key:"formRef",ref:R,onSubmit:$,onValidationError:t[2]||(t[2]=e=>F.value=!F.value)},{default:(0,l.w5)((()=>[(0,l.Wm)(o.Z,{header:e.$t(e.$route.meta.title),"is-loading":!q.value||x.value,menu:(0,a.SU)(S)},{default:(0,l.w5)((()=>[(0,l._)("div",g,[(0,l._)("div",h,[(0,l.Wm)(u,{modelValue:(0,a.SU)(n).name,"onUpdate:modelValue":t[0]||(t[0]=e=>(0,a.SU)(n).name=e),modelModifiers:{trim:!0},hint:e.$t("form.field.constraints.range",{min:(0,a.SU)(j),max:e.$tc("plural.symbol",(0,a.SU)(V))}),label:e.$t("entity.user.name"),rules:H,counter:"","data-required":"","lazy-rules":"","no-error-icon":""},null,8,["modelValue","hint","label"])]),(0,l._)("div",p,[(0,l.Wm)(v.Z,{modelValue:(0,a.SU)(n).town,"onUpdate:modelValue":t[1]||(t[1]=e=>(0,a.SU)(n).town=e),required:""},null,8,["modelValue"])])])])),_:1},8,["header","is-loading","menu"]),(0,l.Wm)(i.Z,{"toggle-fab":F.value},{default:(0,l.w5)((()=>[(0,l.Wm)(r.Z,{to:{name:"my-settings-personal"}}),q.value?((0,l.wg)(),(0,l.j4)(c.Z,{key:0,"on-click":()=>R.value.submit()},null,8,["on-click"])):(0,l.kq)("",!0)])),_:1},8,["toggle-fab"])])),_:1},512)}}});var y=t(8326),b=t(6611),k=t(9984),U=t.n(k);const _=w,q=_;U()(w,"components",{QForm:y.Z,QInput:b.Z})}}]);