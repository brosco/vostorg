"use strict";(self["webpackChunkvostorg_vue"]=self["webpackChunkvostorg_vue"]||[]).push([[165],{7165:(e,t,l)=>{l.r(t),l.d(t,{default:()=>$});var o=l(9835),a=l(6970),i=l(499),s=l(7458),r=l.n(s),p=l(6266),n=l.n(p),g=l(2866),u=l.n(g),m=l(8093),d=l.n(m),h=l(2362),c=l.n(h),v=l(6850),S=l(1501),U=l(9141),b=l(9991),w=l(5223),f=l(52),y=l(9731),C=l(61);const k={id:"page-title"},z=(0,o.aZ)({setup(e){const t=(0,v.F)(),l=(0,w.Z)(),{fetchCountCanAdd:s}=l,p=(0,o.Fl)((()=>l.countCanAdd)),{t:g}=(0,b.QT)(),m=r()(n(),u(),d(),c()),{user:{photoWidth:h,photoHeight:z}}=t.config,F=(0,i.iH)(!1),$={url:"https://api.vostorg.net/v1/",process:{url:"my/photo",headers:{Authorization:`Bearer ${S.$.getCookie(U.o3)}`}}},P=()=>F.value=!0;return(0,o.bv)((()=>{void 0===p.value&&s()})),(0,o.Ah)((()=>{F.value&&l.$reset()})),(e,t)=>((0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",k,(0,a.zw)(e.$t(e.$route.meta.title)),1),(0,i.SU)(p)>=0?((0,o.wg)(),(0,o.j4)((0,i.SU)(m),{key:0,"allow-replace":!1,"allow-revert":!1,disabled:0===(0,i.SU)(p),"image-resize-target-height":(0,i.SU)(z),"image-resize-target-width":(0,i.SU)(h),itemInsertInterval:200,labelFileProcessing:(0,i.SU)(g)("my.page.photo.upload.processing"),labelFileProcessingComplete:(0,i.SU)(g)("my.page.photo.upload.processingComplete"),labelIdle:(0,i.SU)(p)>0?(0,i.SU)(g)("my.page.photo.upload.more",{count:(0,i.SU)(g)("plural.photo",(0,i.SU)(p))}):e.$t("my.page.photo.upload.no_more"),"max-files":(0,i.SU)(p),server:$,"accepted-file-types":"image/*","allow-multiple":"","image-resize-mode":"contain",labelTapToCancel:"",name:"file","style-panel-layout":"compact",onProcessfiles:P},null,8,["disabled","image-resize-target-height","image-resize-target-width","labelFileProcessing","labelFileProcessingComplete","labelIdle","max-files"])):(0,o.kq)("",!0),void 0===(0,i.SU)(p)?((0,o.wg)(),(0,o.j4)(f.Z,{key:1})):(0,o.kq)("",!0),(0,o.Wm)(y.Z,null,{default:(0,o.w5)((()=>[(0,o.Wm)(C.Z,{to:{name:"my-photo"}})])),_:1})],64))}}),F=z,$=F}}]);