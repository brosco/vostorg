"use strict";(self["webpackChunkvostorg_vue"]=self["webpackChunkvostorg_vue"]||[]).push([[767],{3767:(e,o,l)=>{l.r(o),l.d(o,{default:()=>S});var t=l(9835),a=l(499),i=l(6970),n=l(9731),d=l(6618),s=l(5223),u=l(9048);const m=["src"],c=(0,t.aZ)({props:{id:null,main:{type:Boolean},confirmed:{type:Boolean},medium:null,idx:null},emits:["remove","showModal","setMain"],setup(e){const o=(0,a.iH)(),l="https://api.vostorg.net/",n=(0,a.iH)(!1);return(d,s)=>{const u=(0,t.up)("q-tooltip"),c=(0,t.up)("q-btn"),r=(0,t.up)("q-badge"),p=(0,t.up)("q-card"),v=(0,t.up)("q-icon"),w=(0,t.up)("q-card-section"),g=(0,t.up)("q-card-actions"),f=(0,t.up)("q-dialog"),h=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(p,{class:"q-pa-md q-ma-sm",onMouseenter:s[3]||(s[3]=l=>o.value=e.id),onMouseleave:s[4]||(s[4]=e=>o.value=void 0)},{default:(0,t.w5)((()=>[e.main||e.id!==o.value&&!d.$q.screen.lt.md?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(c,{key:0,class:"absolute",color:"negative",icon:"delete",round:"",size:"lg",style:{"z-index":"1"},onClick:s[0]||(s[0]=e=>n.value=!0)},{default:(0,t.w5)((()=>[(0,t.Wm)(u,{class:"text-subtitle1"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,i.zw)(d.$t("form.delete")),1)])),_:1})])),_:1})),e.main||!e.confirmed||e.id!==o.value&&!d.$q.screen.lt.md?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(c,{key:1,class:"absolute",color:"primary",icon:"home",round:"",size:"lg",style:{left:"80px","z-index":"2"},onClick:s[1]||(s[1]=o=>d.$emit("setMain",e.id))},{default:(0,t.w5)((()=>[(0,t.Wm)(u,{class:"text-subtitle1"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,i.zw)(d.$t("my.page.photo.setMain")),1)])),_:1})])),_:1})),e.confirmed?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(r,{key:2,class:"absolute-center badge q-pa-sm",color:"dark",rounded:"",style:{"z-index":"3"}},{default:(0,t.w5)((()=>[(0,t.Uk)((0,i.zw)(d.$t("my.page.photo.confirm")),1)])),_:1})),e.main?((0,t.wg)(),(0,t.j4)(r,{key:3,class:"absolute-bottom q-mb-md q-mx-md q-pa-sm flex-center z-index",color:"primary",style:{"z-index":"4"}},{default:(0,t.w5)((()=>[(0,t.Uk)((0,i.zw)(d.$t("my.page.photo.main")),1)])),_:1})):(0,t.kq)("",!0),(0,t._)("img",{class:(0,i.C_)([{"photo-opacity":!e.confirmed},"cursor-pointer"]),src:`${(0,a.SU)(l)}${e.medium}`,alt:"",onClick:s[2]||(s[2]=o=>d.$emit("showModal",e.idx))},null,10,m)])),_:1}),((0,t.wg)(),(0,t.j4)(t.lR,{to:"body"},[(0,t.Wm)(f,{modelValue:n.value,"onUpdate:modelValue":s[6]||(s[6]=e=>n.value=e),persistent:""},{default:(0,t.w5)((()=>[(0,t.Wm)(p,{class:"q-pa-md"},{default:(0,t.w5)((()=>[(0,t.Wm)(w,null,{default:(0,t.w5)((()=>[(0,t.Wm)(v,{name:"warning",size:"lg"}),(0,t.Uk)(" "+(0,i.zw)(d.$t("my.page.photo.confirmRemove")),1)])),_:1}),(0,t.Wm)(g,{align:"right"},{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(c,{label:d.$t("form.cancel"),color:"white",flat:"","text-color":"black"},null,8,["label"]),[[h]]),(0,t.wy)((0,t.Wm)(c,{label:d.$t("form.delete"),color:"negative",onClick:s[5]||(s[5]=o=>d.$emit("remove",e.id))},null,8,["label"]),[[h]])])),_:1})])),_:1})])),_:1},8,["modelValue"])]))],64)}}});var r=l(1639),p=l(4458),v=l(8879),w=l(6858),g=l(990),f=l(2074),h=l(3190),y=l(2857),k=l(1821),b=l(2146),q=l(9984),_=l.n(q);const Z=(0,r.Z)(c,[["__scopeId","data-v-23f943c4"]]),$=Z;_()(c,"components",{QCard:p.Z,QBtn:v.Z,QTooltip:w.Z,QBadge:g.Z,QDialog:f.Z,QCardSection:h.Z,QIcon:y.Z,QCardActions:k.Z}),_()(c,"directives",{ClosePopup:b.Z});var x=l(8779);const z={key:0},U={key:0,class:"row justify-center"},W={key:1,class:"text-center"},C=(0,t.aZ)({setup(e){const o=(0,s.Z)(),{fetchPhotos:l,setMainPhoto:m,removePhoto:c}=o,r=(0,t.Fl)((()=>o.photos)),p=(0,a.iH)(!1),v=(0,a.iH)(0),w=(0,a.iH)(!1),g=e=>{v.value=e,w.value=!0};return(0,t.bv)((()=>{r.value||l()})),(e,o)=>((0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(u.Z,{header:e.$t(e.$route.meta.title),"is-loading":p.value},{default:(0,t.w5)((()=>[(0,a.SU)(r)?((0,t.wg)(),(0,t.iD)("div",z,[(0,a.SU)(r).length>0?((0,t.wg)(),(0,t.iD)("div",U,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,a.SU)(r),(({main:e,id:l,medium:i,confirmed:n},d)=>((0,t.wg)(),(0,t.j4)($,{key:l,id:l,confirmed:n,idx:d,main:e,medium:i,onRemove:o[0]||(o[0]=e=>(0,a.SU)(c)(e)),onShowModal:g,onSetMain:o[1]||(o[1]=e=>(0,a.SU)(m)(e))},null,8,["id","confirmed","idx","main","medium"])))),128))])):((0,t.wg)(),(0,t.iD)("div",W,(0,i.zw)(e.$t("my.page.photo.empty")),1))])):(0,t.kq)("",!0)])),_:1},8,["header","is-loading"]),(0,t.Wm)(x.Z,{visible:w.value,"onUpdate:visible":o[2]||(o[2]=e=>w.value=e),"active-photo":v.value,photos:(0,a.SU)(r)},null,8,["visible","active-photo","photos"]),(0,t.Wm)(n.Z,null,{default:(0,t.w5)((()=>[(0,t.Wm)(d.Z,{to:{name:"my-photo-upload"},icon:"file_upload",label:"my.page.photo.uploadButton"})])),_:1})],64))}}),M=C,S=M}}]);