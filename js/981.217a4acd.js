"use strict";(self["webpackChunkvostorg_vue"]=self["webpackChunkvostorg_vue"]||[]).push([[981],{3981:(e,a,l)=>{l.r(a),l.d(a,{default:()=>se});var o=l(9835),t=l(499),n=l(442),r=l(6850),s=l(8882),i=l(4919),d=l(9048),u=l(2455),c=l(6970),m=l(9448);const p=e=>((0,o.dD)("data-v-660b4ccd"),e=e(),(0,o.Cn)(),e),g={class:"row items-center no-wrap"},v=p((()=>(0,o._)("br",null,null,-1))),h=(0,o.aZ)({props:{gender:null,modelValue:null,shake:{type:Boolean}},setup(e){const a=e,{male:l}=u.V,n=(0,s.Zd)(),r="m"===a.gender?"light-blue":"pink-5";return(a,s)=>{const i=(0,o.up)("q-icon"),d=(0,o.up)("q-btn");return(0,o.wg)(),(0,o.j4)(d,{class:(0,c.C_)([[(0,t.SU)(n)!==e.gender?`text-${(0,t.SU)(r)}`:"",{animate__tada:e.shake}],"full-width animate__animated animate__slow"]),color:(0,t.SU)(n)===e.gender?(0,t.SU)(r):"",unelevated:(0,t.SU)(n)!==e.gender,onClick:s[0]||(s[0]=a=>n.value=e.gender)},{default:(0,o.w5)((()=>[(0,o._)("div",g,[(0,o.Wm)(i,{class:(0,c.C_)([a.$q.screen.gt.sm?"gender-icon-big":"gender-icon","gender-icon-big"]),name:e.gender===(0,t.SU)(l)?(0,t.SU)(m.iD_):(0,t.SU)(m.Sfh)},null,8,["class","name"]),(0,o._)("div",{class:(0,c.C_)(a.$q.screen.gt.sm?"gender-label-big":"gender-label")},[(0,o.Uk)((0,c.zw)(a.$t("root.page.register.gender.i")),1),v,(0,o.Uk)(" "+(0,c.zw)(a.$t(`root.page.register.gender.${e.gender}`)),1)],2)])])),_:1},8,["class","color","unelevated"])}}});var f=l(1639),y=l(8879),w=l(2857),b=l(9984),U=l.n(b);const _=(0,f.Z)(h,[["__scopeId","data-v-660b4ccd"]]),S=_;U()(h,"components",{QBtn:y.Z,QIcon:w.Z});const V={class:"row"},q=(0,o.aZ)({props:{modelValue:null,shake:{type:Boolean}},setup(e){const{male:a,female:l}=u.V,n=(0,s.Zd)();return(r,s)=>((0,o.wg)(),(0,o.iD)("div",V,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)([(0,t.SU)(a),(0,t.SU)(l)],(a=>((0,o.wg)(),(0,o.iD)("div",{key:a,class:"col-6"},[(0,o.Wm)(S,{modelValue:(0,t.SU)(n),"onUpdate:modelValue":s[0]||(s[0]=e=>(0,t.dq)(n)?n.value=e:null),gender:a,shake:e.shake},null,8,["modelValue","gender","shake"])])))),128))]))}}),k=q,Z=k;var $=l(5859),x=l(2151),P=l(6969),D=l(9837),M=l(7727),W=l(6921),O=l(9991);const j=["data-required"],C={class:"col"},R={class:"q-field__bottom row items-start"},z={class:"q-field__messages col"},B=(0,o.aZ)({props:{modelValue:null,required:{type:Boolean},shake:{type:Boolean}},setup(e){const a=e,l=(0,s.Zd)(),{config:n}=(0,r.F)(),{t:i}=(0,O.QT)(),{user:{ageMax:d,ageMin:u}}=n,m=(0,x.Z)((0,P.Z)(new Date,d+1),1),p=(0,P.Z)(new Date,u),g=(0,o.Fl)((()=>a.modelValue?(0,D.Z)(new Date,a.modelValue):void 0)),v=(0,o.Fl)((()=>g.value?i("components.form.birthday.yourAge",{age:i("plural.age",g.value)}):i("components.form.birthday.ageHint",{range:i("form.field.constraints.range",{min:u,max:i("plural.age",d)})})));return(a,n)=>((0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("label",{"data-required":e.required,for:"birthday-datepicker"},(0,c.zw)(a.$t("entity.user.birthday")),9,j),(0,o._)("div",{id:"birthday-datepicker",class:(0,c.C_)([{animate__shakeX:e.shake},"row animate__animated animate__slow"])},[(0,o._)("div",C,[(0,o.Wm)((0,t.SU)($.Z),{modelValue:(0,t.SU)(l),"onUpdate:modelValue":n[0]||(n[0]=e=>(0,t.dq)(l)?l.value=e:null),"enable-time-picker":!1,flow:(0,t.SU)(l)?void 0:["year","month","calendar"],"format-locale":(0,t.SU)(W.Z),"max-date":(0,t.SU)(p),"min-date":(0,t.SU)(m),placeholder:a.$t("components.form.birthday.placeholder"),startDate:new Date(1980,0),yearRange:[(0,t.SU)(M.Z)((0,t.SU)(m)),(0,t.SU)(M.Z)((0,t.SU)(p))],"auto-apply":"",format:"PPPP",locale:"ru","month-change-on-scroll":"","no-today":""},null,8,["modelValue","flow","format-locale","max-date","min-date","placeholder","startDate","yearRange"]),(0,o._)("div",R,[(0,o._)("div",z,[(0,o._)("div",null,(0,c.zw)((0,t.SU)(v)),1)])])])],2)],64))}});var Q=l(8149);const F=B,H=F;U()(B,"components",{QField:Q.Z});var L=l(4323),I=l(1403),T=function(e,a,l,o){function t(e){return e instanceof l?e:new l((function(a){a(e)}))}return new(l||(l=Promise))((function(l,n){function r(e){try{i(o.next(e))}catch(a){n(a)}}function s(e){try{i(o["throw"](e))}catch(a){n(a)}}function i(e){e.done?l(e.value):t(e.value).then(r,s)}i((o=o.apply(e,a||[])).next())}))},A=function(e,a){var l={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&a.indexOf(o)<0&&(l[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var t=0;for(o=Object.getOwnPropertySymbols(e);t<o.length;t++)a.indexOf(o[t])<0&&Object.prototype.propertyIsEnumerable.call(e,o[t])&&(l[o[t]]=e[o[t]])}return l};const Y={class:"q-mb-lg"},E={class:"row q-col-gutter-sm q-my-lg"},K={class:"col-12 col-sm-6"},X={class:"col-12 col-sm-6"},G={class:"row q-col-gutter-sm q-my-lg"},J={class:"col-12 col-sm-6"},N={class:"col-12 col-sm-6"},ee={class:"row q-col-gutter-sm q-my-lg"},ae={class:"col-12 col-sm-6"},le={class:"col-12 col-sm-6"},oe=(0,o.aZ)({setup(e){const a=(0,t.iH)(!1),l=(0,t.iH)(!1),u=(0,t.iH)(!1),c=(0,n.useReCaptcha)(),m=()=>T(this,void 0,void 0,(function*(){return yield null===c||void 0===c?void 0:c.recaptchaLoaded(),null===c||void 0===c?void 0:c.executeRecaptcha("register")})),p=(0,L.t)(),{register:g}=p,v=()=>T(this,void 0,void 0,(function*(){if(!h.gender)return u.value=!0,void setTimeout((()=>{u.value=!1}),1e3);if(!h.birthday)return l.value=!0,void setTimeout((()=>{l.value=!1}),500);const{town:e,birthday:o,confirmPassword:t}=h,n=A(h,["town","birthday","confirmPassword"]);a.value=!0;const r=Object.assign(Object.assign({},n),{town:null===e||void 0===e?void 0:e.id,birthday:(0,i.Z)(o,"yyyy-MM-dd"),recaptcha:yield m()});try{yield g(r),a.value=!1}catch(s){a.value=!1}})),h=(0,t.qj)({}),{config:f}=(0,r.F)(),{user:{nameLengthMax:y,nameLengthMin:w,emailLengthMax:b,passwordLengthMin:U}}=f,{requiredRule:_,maxRule:S,minRule:V,emailRule:q,confirmPasswordRule:k}=(0,s.bA)(),$=[e=>_(e),e=>S(e,y),e=>V(e,w)],x=[e=>_(e),e=>q(e),e=>S(e,b)],P=[e=>_(e),e=>V(e,U)],D=[e=>_(e),e=>k(e,h.password)];return(e,n)=>{const r=(0,o.up)("q-input"),s=(0,o.up)("q-btn"),i=(0,o.up)("q-form");return(0,o.wg)(),(0,o.j4)(i,{onSubmit:v},{default:(0,o.w5)((()=>[(0,o.Wm)(d.Z,{header:e.$t("root.page.register.title"),"is-loading":a.value,"animate-class":e.$q.screen.gt.sm?"animate__jackInTheBox":void 0,"is-actions":""},{buttons:(0,o.w5)((()=>[(0,o.Wm)(s,{label:e.$t("root.page.register.gotoLogin"),to:{name:"login"},flat:""},null,8,["label"])])),default:(0,o.w5)((()=>[(0,o._)("div",Y,[(0,o.Wm)(Z,{modelValue:(0,t.SU)(h).gender,"onUpdate:modelValue":n[0]||(n[0]=e=>(0,t.SU)(h).gender=e),shake:u.value},null,8,["modelValue","shake"])]),(0,o._)("div",E,[(0,o._)("div",K,[(0,o.Wm)(r,{modelValue:(0,t.SU)(h).name,"onUpdate:modelValue":n[1]||(n[1]=e=>(0,t.SU)(h).name=e),modelModifiers:{trim:!0},hint:e.$t("form.field.constraints.range",{min:(0,t.SU)(w),max:e.$tc("plural.symbol",(0,t.SU)(y))}),label:e.$t("entity.user.name"),rules:$,counter:"","data-required":"","lazy-rules":"","no-error-icon":""},null,8,["modelValue","hint","label"])]),(0,o._)("div",X,[(0,o.Wm)(r,{modelValue:(0,t.SU)(h).email,"onUpdate:modelValue":n[2]||(n[2]=e=>(0,t.SU)(h).email=e),modelModifiers:{trim:!0},hint:e.$t("form.field.constraints.max",{max:e.$tc("plural.symbol",(0,t.SU)(b))}),label:e.$t("entity.user.email"),rules:x,counter:"","data-required":"true","lazy-rules":"","no-error-icon":""},null,8,["modelValue","hint","label"])])]),(0,o._)("div",G,[(0,o._)("div",J,[(0,o.Wm)(H,{modelValue:(0,t.SU)(h).birthday,"onUpdate:modelValue":n[3]||(n[3]=e=>(0,t.SU)(h).birthday=e),shake:l.value,required:""},null,8,["modelValue","shake"])]),(0,o._)("div",N,[(0,o.Wm)(I.Z,{modelValue:(0,t.SU)(h).town,"onUpdate:modelValue":n[4]||(n[4]=e=>(0,t.SU)(h).town=e),label:"",required:""},null,8,["modelValue"])])]),(0,o._)("div",ee,[(0,o._)("div",ae,[(0,o.Wm)(r,{modelValue:(0,t.SU)(h).password,"onUpdate:modelValue":n[5]||(n[5]=e=>(0,t.SU)(h).password=e),modelModifiers:{trim:!0},hint:e.$t("form.field.constraints.min",{min:e.$tc("plural.symbol",(0,t.SU)(U))}),label:e.$t("entity.user.password"),rules:P,"data-required":"true","lazy-rules":"","no-error-icon":"",type:"password"},null,8,["modelValue","hint","label"])]),(0,o._)("div",le,[(0,o.Wm)(r,{modelValue:(0,t.SU)(h).confirmPassword,"onUpdate:modelValue":n[6]||(n[6]=e=>(0,t.SU)(h).confirmPassword=e),modelModifiers:{trim:!0},label:e.$t("root.page.register.confirmPassword"),rules:D,"data-required":"true","lazy-rules":"","no-error-icon":"",type:"password"},null,8,["modelValue","label"])])])])),_:1},8,["header","is-loading","animate-class"])])),_:1})}}});var te=l(8326),ne=l(6611);const re=oe,se=re;U()(oe,"components",{QForm:te.Z,QInput:ne.Z,QBtn:y.Z})}}]);